<!DOCTYPE html><html class="h-full antialiased" lang="en"><head><meta charSet="utf-8" data-next-head=""/><meta name="viewport" content="width=device-width" data-next-head=""/><title data-next-head="">AWS Outage - Network Load Balancer Take - Daniel Butler</title><meta name="description" content="Flapping in the wild." data-next-head=""/><script>
  let darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)')

  updateMode()
  darkModeMediaQuery.addEventListener('change', updateModeWithoutTransitions)
  window.addEventListener('storage', updateModeWithoutTransitions)

  function updateMode() {
    let isSystemDarkMode = darkModeMediaQuery.matches
    let isDarkMode = window.localStorage.isDarkMode === 'true' || (!('isDarkMode' in window.localStorage) && isSystemDarkMode)

    if (isDarkMode) {
      document.documentElement.classList.add('dark')
    } else {
      document.documentElement.classList.remove('dark')
    }

    if (isDarkMode === isSystemDarkMode) {
      delete window.localStorage.isDarkMode
    }
  }

  function disableTransitionsTemporarily() {
    document.documentElement.classList.add('[&_*]:!transition-none')
    window.setTimeout(() => {
      document.documentElement.classList.remove('[&_*]:!transition-none')
    }, 0)
  }

  function updateModeWithoutTransitions() {
    disableTransitionsTemporarily()
    updateMode()
  }
</script><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,400;0,500;0,600;1,400&amp;display=swap" rel="stylesheet"/><link rel="alternate" type="application/rss+xml" href="https://daniel-butler.com/rss/feed.xml"/><link rel="alternate" type="application/feed+json" href="https://daniel-butler.com/rss/feed.json"/><link rel="preload" href="/_next/static/css/ba9d6be3583e04d9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/ba9d6be3583e04d9.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-42372ed130431b0a.js"></script><script src="/_next/static/chunks/webpack-5e931bb610e47be1.js" defer=""></script><script src="/_next/static/chunks/framework-5757d75364ce2279.js" defer=""></script><script src="/_next/static/chunks/main-a5869523d0d5bf46.js" defer=""></script><script src="/_next/static/chunks/pages/_app-abc2fa96e49dc843.js" defer=""></script><script src="/_next/static/chunks/pages/articles/aws-outage-2025-10-104db207eb550430.js" defer=""></script><script src="/_next/static/oODQ8dsLmHhS2gB3HPxam/_buildManifest.js" defer=""></script><script src="/_next/static/oODQ8dsLmHhS2gB3HPxam/_ssgManifest.js" defer=""></script></head><body class="flex h-full flex-col bg-zinc-50 dark:bg-black"><div id="__next"><div class="min-h-screen bg-white dark:bg-zinc-950"><header class="border-b border-zinc-100 dark:border-zinc-800"><div class="sm:px-8"><div class="mx-auto max-w-7xl lg:px-8"><div class="relative px-4 sm:px-8 lg:px-12"><div class="mx-auto max-w-2xl lg:max-w-5xl"><div class="flex items-center justify-between py-4"><div class="flex-shrink-0"><a class="font-mono text-base font-semibold text-zinc-800 hover:text-teal-500 dark:text-zinc-200 dark:hover:text-teal-400 transition" href="/">Daniel Butler</a></div><nav class="hidden sm:block"><ul class="flex items-center"><li><a class="relative block px-3 py-2 text-sm transition text-teal-500 dark:text-teal-400" href="/">Home<span class="absolute inset-x-1 -bottom-px h-px bg-gradient-to-r from-teal-500/0 via-teal-500/40 to-teal-500/0 dark:from-teal-400/0 dark:via-teal-400/40 dark:to-teal-400/0"></span></a></li><li><a class="relative block px-3 py-2 text-sm transition text-zinc-600 hover:text-teal-500 dark:text-zinc-400 dark:hover:text-teal-400" href="/about">About</a></li><li><a class="relative block px-3 py-2 text-sm transition text-zinc-600 hover:text-teal-500 dark:text-zinc-400 dark:hover:text-teal-400" href="/articles">Articles</a></li><li><a class="relative block px-3 py-2 text-sm transition text-zinc-600 hover:text-teal-500 dark:text-zinc-400 dark:hover:text-teal-400" href="/projects">Projects</a></li></ul></nav><div class="flex items-center gap-4"><nav class="sm:hidden"><ul class="flex items-center"><li><a class="relative block px-3 py-2 text-sm transition text-teal-500 dark:text-teal-400" href="/">Home<span class="absolute inset-x-1 -bottom-px h-px bg-gradient-to-r from-teal-500/0 via-teal-500/40 to-teal-500/0 dark:from-teal-400/0 dark:via-teal-400/40 dark:to-teal-400/0"></span></a></li><li><a class="relative block px-3 py-2 text-sm transition text-zinc-600 hover:text-teal-500 dark:text-zinc-400 dark:hover:text-teal-400" href="/articles">Articles</a></li></ul></nav><button type="button" aria-label="Toggle dark mode" class="group rounded-full bg-white/90 px-3 py-2 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur transition dark:bg-zinc-800/90 dark:ring-white/10 dark:hover:ring-white/20"><svg viewBox="0 0 24 24" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" class="h-6 w-6 fill-zinc-100 stroke-zinc-500 transition group-hover:fill-zinc-200 group-hover:stroke-zinc-700 dark:hidden [@media(prefers-color-scheme:dark)]:fill-teal-50 [@media(prefers-color-scheme:dark)]:stroke-teal-500 [@media(prefers-color-scheme:dark)]:group-hover:fill-teal-50 [@media(prefers-color-scheme:dark)]:group-hover:stroke-teal-600"><path d="M8 12.25A4.25 4.25 0 0 1 12.25 8v0a4.25 4.25 0 0 1 4.25 4.25v0a4.25 4.25 0 0 1-4.25 4.25v0A4.25 4.25 0 0 1 8 12.25v0Z"></path><path d="M12.25 3v1.5M21.5 12.25H20M18.791 18.791l-1.06-1.06M18.791 5.709l-1.06 1.06M12.25 20v1.5M4.5 12.25H3M6.77 6.77 5.709 5.709M6.77 17.73l-1.061 1.061" fill="none"></path></svg><svg viewBox="0 0 24 24" aria-hidden="true" class="hidden h-6 w-6 fill-zinc-700 stroke-zinc-500 transition dark:block [@media(prefers-color-scheme:dark)]:group-hover:stroke-zinc-400 [@media_not_(prefers-color-scheme:dark)]:fill-teal-400/10 [@media_not_(prefers-color-scheme:dark)]:stroke-teal-500"><path d="M17.25 16.22a6.937 6.937 0 0 1-9.47-9.47 7.451 7.451 0 1 0 9.47 9.47ZM12.75 7C17 7 17 2.75 17 2.75S17 7 21.25 7C17 7 17 11.25 17 11.25S17 7 12.75 7Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg></button></div></div></div></div></div></div></header><main><div class="sm:px-8 mt-16 lg:mt-32"><div class="mx-auto max-w-7xl lg:px-8"><div class="relative px-4 sm:px-8 lg:px-12"><div class="mx-auto max-w-2xl lg:max-w-5xl"><div class="xl:relative"><div class="mx-auto max-w-2xl"><article><header class="flex flex-col"><h1 class="mt-6 text-4xl font-bold tracking-tight text-zinc-800 dark:text-zinc-100 sm:text-5xl">AWS Outage - Network Load Balancer Take</h1><time dateTime="2025-10-27" class="order-first flex items-center text-base text-zinc-400 dark:text-zinc-500"><span class="h-4 w-0.5 rounded-full bg-zinc-200 dark:bg-zinc-500"></span><span class="ml-3">October 27, 2025</span></time></header><div class="mt-8 prose dark:prose-invert"><blockquote>
<p>The opinions and information expressed in this post, and every other one, are my own and in no way reflect the opinion of my employer, Amazon.</p>
</blockquote>
<p>A lot has been discussed about AWS’s DynamoDB outage already. If you haven’t read it, yet I suggest spending a few minutes to go through it. The best lessons are from the scars of others!</p>
<p><a href="https://aws.amazon.com/message/101925/">https://aws.amazon.com/message/101925/</a></p>
<p>There is already a lot on the DNS delegators and how they failed. What I found interesting from reading between the lines was the Network Load Balancer (NLB) failure. AWS has another type of load balancer, Application load balancers (ALB). The ALBs weren’t impacted, why?</p>
<p>The answer basically comes down to a case of real world flapping. This is the NLB quote from the report.</p>
<blockquote>
<p>During the event the NLB health checking subsystem began to experience increased health check failures. This was caused by the health checking subsystem bringing new EC2 instances into service while the network state for those instances had not yet fully propagated. This meant that in some cases health checks would fail even though the underlying NLB node and backend targets were healthy. This resulted in health checks alternating between failing and healthy. This caused NLB nodes and backend targets to be removed from DNS, only to be returned to service when the next health check succeeded.</p>
</blockquote>
<p>The likely cause is Network Load Balancers passive health checks - Application Load Balancers don&#x27;t have them.  Active health checks are calls to endpoint like <code>/health</code> while passive health checks monitor actual connections.</p>
<blockquote>
<p>With passive health checks, the load balancer observes how targets respond to connections. Passive health checks enable the load balancer to detect an unhealthy target before it is reported as unhealthy by the active health checks. You cannot disable, configure, or monitor passive health checks. Passive health checks are not supported for UDP traffic, and target groups with stickiness turned on.</p>
<ul>
<li><a href="https://docs.aws.amazon.com/elasticloadbalancing/latest/network/target-group-health-checks.html">Documentation Link</a></li>
</ul>
</blockquote>
<p>The key point is passive health checks watch the actual traffic. There is no slack for errors.  Some requests worked while others didn&#x27;t causing the targets to flap (<code>fail</code> -&gt; <code>succeed</code> -<code>fail</code> -&gt; <code>succeed</code> -&gt; etc).</p>
<p>It’s one of those hard lessons of why you don’t necessary want instantaneous feedback. Quick feedback is good but overwhelming feedback becomes noise or worse.</p>
<p>I’m an outsider looking in, it seems like the biggest mismatch is the resource server wasn’t protected from its clients. Generally throttling is how that protection is implemented.</p>
<h3>Bonus</h3>
<p>Below is a visual representation of the failures and the cascading effect it had. The team I am on was impacted after the NLB failures were resolved.</p>
<pre class="mermaid">gantt
      title AWS US-EAST-1 Outage - Service Impact Timeline (14.5 hours)
      dateFormat YYYY-MM-DD HH:mm

      section Root Cause
      DynamoDB DNS Failure           :crit, 2025-10-19 23:48, 2025-10-20 02:40

      section Lambda
      Lambda Wave 1 (DynamoDB)       :w1lambda, 2025-10-19 23:51, 2025-10-20 02:24
      Lambda SQS Polling Issue       :active, 2025-10-20 02:24, 2025-10-20 06:00
      Lambda Wave 2 (NLB)            :done, 2025-10-20 07:04, 2025-10-20 14:15

      section Connect
      Connect Wave 1 (DynamoDB)      :w1connect, 2025-10-19 23:56, 2025-10-20 05:00
      Connect Wave 2 (NLB)           :done, 2025-10-20 07:04, 2025-10-20 13:20

      section EC2 Cascade
      EC2 DWFM Failures             :active, 2025-10-19 23:48, 2025-10-20 05:28
      EC2 Network State Issues      :active, 2025-10-20 05:28, 2025-10-20 10:36
      EC2 Throttling Recovery       :active, 2025-10-20 10:36, 2025-10-20 13:50

      section NLB Cascade
      NLB Connection Errors         :done, 2025-10-20 05:30, 2025-10-20 14:09

      section Other Services
      STS Wave 1 (DynamoDB)          :w1other, 2025-10-19 23:51, 2025-10-20 01:19
      STS Wave 2 (NLB)               :done, 2025-10-20 08:31, 2025-10-20 09:59
      Console Auth (DynamoDB)        :w1other, 2025-10-19 23:51, 2025-10-20 01:25
      Redshift Query Failures (DDB)  :w1other, 2025-10-19 23:47, 2025-10-20 02:21
      Redshift Cluster Impairment (EC2) :active, 2025-10-20 02:21, 2025-10-21 04:05
      ECS EKS Fargate (EC2)          :w1other, 2025-10-19 23:45, 2025-10-20 14:20
</pre></div></article></div></div></div></div></div></div></main><footer class="mt-32"><div class="sm:px-8"><div class="mx-auto max-w-7xl lg:px-8"><div class="border-t border-zinc-100 pt-10 pb-16 dark:border-zinc-700/40"><div class="relative px-4 sm:px-8 lg:px-12"><div class="mx-auto max-w-2xl lg:max-w-5xl"><div class="flex flex-col items-center justify-between gap-6 sm:flex-row"><div class="flex gap-6 text-sm font-medium text-zinc-800 dark:text-zinc-200"><a class="transition hover:text-teal-500 dark:hover:text-teal-400" href="/about">About</a><a class="transition hover:text-teal-500 dark:hover:text-teal-400" href="/articles">Articles</a><a class="transition hover:text-teal-500 dark:hover:text-teal-400" href="/projects">Projects</a><a class="transition hover:text-teal-500 dark:hover:text-teal-400" href="/platforms">Platforms</a><a class="transition hover:text-teal-500 dark:hover:text-teal-400" href="/speaking">Speaking</a></div><p class="text-sm text-zinc-400 dark:text-zinc-500">© <!-- -->2026<!-- --> Daniel Butler. All rights reserved.</p></div></div></div></div></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/articles/aws-outage-2025-10","query":{},"buildId":"oODQ8dsLmHhS2gB3HPxam","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>